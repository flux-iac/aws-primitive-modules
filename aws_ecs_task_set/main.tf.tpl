######################################################################
# Generated by Tofu-Jet. Please do not manually edit.
# AWS Primitive Module for TF-controller
# Resource: aws_ecs_task_set
######################################################################

terraform {
  required_providers {
    aws = {
      source  = "hashicorp/aws"
      version = "4.38.0"
    }
  }
}

provider "aws" {
}

variable "values" {
  type = any object({
    capacity_provider_strategy = optional(set(any))
    cluster = optional(string)
    external_id = optional(string)
    force_delete = optional(bool)
    launch_type = optional(string)
    load_balancer = optional(set(any))
    network_configuration = optional(list({
        security_groups = optional(set(string))
        subnets = optional(set(string))
        assign_public_ip = optional(bool)
    }))
    platform_version = optional(string)
    service = optional(string)
    service_registries = optional(list({
        container_name = optional(string)
        container_port = optional(number)
        port = optional(number)
        registry_arn = optional(string)
    }))
    tags = optional(map(string))
    task_definition = optional(string)
    wait_until_stable = optional(bool)
    wait_until_stable_timeout = optional(string)
  })
}

resource "aws_ecs_task_set" "this" {

  {{- if $.Values.capacity_provider_strategy }}
  capacity_provider_strategy = var.values.capacity_provider_strategy
  {{- end }}
  {{- if $.Values.cluster }}
  cluster = var.values.cluster
  {{- end }}
  {{- if $.Values.external_id }}
  external_id = var.values.external_id
  {{- end }}
  {{- if $.Values.force_delete }}
  force_delete = var.values.force_delete
  {{- end }}
  {{- if $.Values.launch_type }}
  launch_type = var.values.launch_type
  {{- end }}
  {{- if $.Values.load_balancer }}
  load_balancer = var.values.load_balancer
  {{- end }}
  {{- if $.Values.network_configuration }}
  network_configuration = var.values.network_configuration
  {{- end }}
  {{- if $.Values.platform_version }}
  platform_version = var.values.platform_version
  {{- end }}
  {{- if $.Values.service }}
  service = var.values.service
  {{- end }}
  {{- if $.Values.service_registries }}
  service_registries = var.values.service_registries
  {{- end }}
  {{- if $.Values.tags }}
  tags = var.values.tags
  {{- end }}
  {{- if $.Values.task_definition }}
  task_definition = var.values.task_definition
  {{- end }}
  {{- if $.Values.wait_until_stable }}
  wait_until_stable = var.values.wait_until_stable
  {{- end }}
  {{- if $.Values.wait_until_stable_timeout }}
  wait_until_stable_timeout = var.values.wait_until_stable_timeout
  {{- end }}


  {{- if $.Values.count }}
  count = {{ $.Values.count }}
  {{- end }}

  {{- if $.Values.lifecycle }}
  lifecycle {
    {{- if $.Values.lifecycle.create_before_destroy }}
    create_before_destroy = {{ $.Values.lifecycle.create_before_destroy }}
    {{- end }}
    {{- if $.Values.lifecycle.ignore_changes }}
    prevent_destroy = {{ $.Values.lifecycle.prevent_destroy }}
    {{- end }}
    {{- if $.Values.lifecycle.ignore_changes }}
    ignore_changes = {{ $.Values.lifecycle.ignore_changes }}
    {{- end }}
  }
  {{- end }}
}


output "arn" {
    value = aws_ecs_task_set.this.arn
}

output "external_id" {
    value = aws_ecs_task_set.this.external_id
}

output "launch_type" {
    value = aws_ecs_task_set.this.launch_type
}

output "platform_version" {
    value = aws_ecs_task_set.this.platform_version
}

output "stability_status" {
    value = aws_ecs_task_set.this.stability_status
}

output "status" {
    value = aws_ecs_task_set.this.status
}

output "task_set_id" {
    value = aws_ecs_task_set.this.task_set_id
}

